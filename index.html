<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sezgin Airbag | Antalya Oto Güvenlik Sistemleri</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <meta name="theme-color" content="#ff3b30">
    <link rel="apple-touch-icon" sizes="57x57" href="public/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="public/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="public/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="public/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="public/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="public/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="public/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="public/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="public/apple-icon-180x180.png">

    <link rel="icon" type="image/png" sizes="192x192" href="public/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="public/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="public/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="public/favicon-16x16.png">

    <link rel="manifest" href="public/manifest.json">
    <meta name="msapplication-TileColor" content="#0f0f12">
    <meta name="msapplication-TileImage" content="public/ms-icon-144x144.png">

    <style>
        :root { --primary: #ff3b30; --accent: #ffcc00; --bg: #0f0f12; --card-bg: rgba(255, 255, 255, 0.05); }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); color: #fff; overflow-x: hidden; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        
        nav { position: fixed; top: 0; width: 100%; z-index: 1000; background: rgba(15, 15, 18, 0.9); backdrop-filter: blur(10px); padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .nav-content { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-family: 'Orbitron'; font-weight: bold; color: #fff; text-decoration: none; }
        .logo span { color: var(--primary); }

        .hero { padding: 140px 0 60px; text-align: center; }
        .hero h1 { font-family: 'Orbitron'; font-size: clamp(1.5rem, 5vw, 3rem); margin-bottom: 15px; }
        
        .section-title { text-align: center; font-family: 'Orbitron'; margin: 60px 0 30px; color: var(--accent); }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; }
        .card { background: var(--card-bg); border-radius: 20px; padding: 20px; border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; }
        
        /* Slider Fix */
        .comparison-container { position: relative; width: 100%; height: 280px; overflow: hidden; border-radius: 15px; cursor: ew-resize; background: #000; }
        .comparison-img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; pointer-events: none; }
        .img-before { position: absolute; top: 0; left: 0; height: 100%; width: 50%; overflow: hidden; z-index: 2; border-right: 3px solid var(--primary); }
        .img-before img { position: absolute; top: 0; left: 0; height: 100%; object-fit: cover; }
        .comparison-slider-bar { position: absolute; top: 0; bottom: 0; width: 2px; background: var(--primary); z-index: 3; pointer-events: none; }

        .btn { display: inline-block; padding: 12px 25px; border-radius: 50px; text-decoration: none; font-weight: 600; cursor: pointer; border: none; width: 100%; text-align: center; transition: 0.3s; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-wp { background: #25d366; color: white; margin-top: 10px; }

        .modal { display: none; position: fixed; z-index: 2000; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); align-items: center; justify-content: center; }
        .modal-content { background: #1a1a1c; padding: 30px; border-radius: 20px; width: 90%; max-width: 400px; border: 1px solid var(--primary); }
        input, select { width: 100%; padding: 12px; margin: 10px 0; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); background: #0f0f12; color: #fff; }
    </style>
</head>
<body>

<nav>
    <div class="container nav-content">
        <a href="#" class="logo">SEZGİN <span>AIRBAG</span></a>
        <a href="tel:05457289717" style="color:var(--primary); text-decoration:none;"><i class="fas fa-phone"></i> ARA</a>
    </div>
</nav>

<section class="hero container">
    <h1 data-aos="fade-down">Oto Güvenlik Sistemleri</h1>
    <p data-aos="fade-up">Antalya Akdeniz Sanayi Sitesi'nde Airbag ve Emniyet Kemeri Uzmanı.</p>
</section>

<div class="container">
    <h2 class="section-title">Hizmetlerimiz</h2>
    <div class="grid" id="hizmetler-listesi"></div>

    <h2 class="section-title">Önce / Sonra</h2>
    <div class="grid" id="galeri-listesi"></div>
</div>

<div id="bookingModal" class="modal">
    <div class="modal-content">
        <h3 style="margin-bottom:15px; font-family: 'Orbitron';">Randevu Formu</h3>
        <form id="randevuForm">
            <input type="text" id="m_ad" placeholder="Ad Soyad" required>
            <input type="tel" id="m_tel" placeholder="Telefon" required>
            <input type="text" id="m_plaka" placeholder="Plaka" required>
            <select id="m_hizmet"></select>
            <button type="submit" class="btn btn-primary">GÖNDER</button>
            <button type="button" onclick="closeModal()" class="btn" style="background:none; color:#666;">Kapat</button>
        </form>
    </div>
</div>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    AOS.init();
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzlB3QFoPdSbmxWwb9PV3eJUQ0SbpqpCVmtZ6O1pTrvIy1m7qrnCHlZxG_VC_QhBEc/exec";

    async function loadData() {
        try {
            const res = await fetch(SCRIPT_URL);
            const data = await res.json();
            
            // Hizmetler
            const hList = document.getElementById('hizmetler-listesi');
            const hSelect = document.getElementById('m_hizmet');
            data.hizmetler.forEach(h => {
                hList.innerHTML += `
                    <div class="card" data-aos="fade-up">
                        <img src="${h.ResimURL}" style="width:100%; height:180px; object-fit:cover; border-radius:15px; margin-bottom:15px;">
                        <h3>${h.HizmetAdı}</h3>
                        <p style="font-size:0.85rem; opacity:0.7; margin:10px 0;">${h.Aciklama}</p>
                        <div style="color:var(--accent); font-weight:bold; margin-bottom:15px;">${h.Fiyat} ₺</div>
                        <button onclick="openModal('${h.HizmetAdı}')" class="btn btn-primary">Randevu Al</button>
                    </div>`;
                hSelect.innerHTML += `<option value="${h.HizmetAdı}">${h.HizmetAdı}</option>`;
            });

            // Galeri (Slider Fix)
            const gList = document.getElementById('galeri-listesi');
            data.galeri.forEach((g, i) => {
                gList.innerHTML += `
                    <div class="card" data-aos="fade-up">
                        <div class="comparison-container" onmousemove="moveSlider(event, this)" ontouchmove="moveSlider(event, this)">
                            <img src="${g.SonraResimURL}" class="comparison-img">
                            <div class="img-before" style="width:50%;">
                                <img src="${g.OnceResimURL}" style="width:${gList.offsetWidth/3}px">
                            </div>
                            <div class="comparison-slider-bar" style="left:50%;"></div>
                        </div>
                        <h4 style="margin-top:15px;">${g.HizmetAdi}</h4>
                    </div>`;
            });
            // Resim genişliklerini eşitle
            document.querySelectorAll('.img-before img').forEach(img => {
                img.style.width = img.parentElement.parentElement.offsetWidth + "px";
            });

        } catch (e) { console.error(e); }
    }

    function moveSlider(e, container) {
        const rect = container.getBoundingClientRect();
        let x = (e.pageX || e.touches[0].pageX) - rect.left;
        let percent = Math.max(0, Math.min(100, (x / rect.width) * 100));
        container.querySelector('.img-before').style.width = percent + "%";
        container.querySelector('.comparison-slider-bar').style.left = percent + "%";
    }

    function openModal(v) { document.getElementById('bookingModal').style.display='flex'; if(v) document.getElementById('m_hizmet').value=v; }
    function closeModal() { document.getElementById('bookingModal').style.display='none'; }

    document.getElementById('randevuForm').onsubmit = async (e) => {
        e.preventDefault();
        const b = e.target.querySelector('button'); b.innerText = "Gönderiliyor...";
        const p = { ad: document.getElementById('m_ad').value, tel: document.getElementById('m_tel').value, plaka: document.getElementById('m_plaka').value, hizmet: document.getElementById('m_hizmet').value };
        await fetch(SCRIPT_URL, { method: 'POST', body: JSON.stringify(p) });
        alert("Randevu talebiniz iletildi!"); closeModal(); b.innerText = "GÖNDER";
    };

    window.onload = loadData;
</script>
</body>
</html>
